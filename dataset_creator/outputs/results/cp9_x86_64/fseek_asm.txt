006f89f0 ENDBR64
006f89f4 PUSH R13
006f89f6 PUSH R12
006f89f8 MOV R12D,EDX
006f89fb PUSH RBP
006f89fc MOV RBP,RSI
006f89ff PUSH RBX
006f8a00 MOV RBX,RDI
006f8a03 SUB RSP,0x18
006f8a07 MOV EAX,dword ptr [RDI]
006f8a09 AND EAX,0x8000
006f8a0e JNZ 0x006f8a40
006f8a10 MOV R13,qword ptr FS:[0x10]
006f8a19 MOV RDI,qword ptr [RDI + 0x88]
006f8a20 CMP qword ptr [RDI + 0x8],R13
006f8a24 JZ 0x006f8a3c
006f8a26 MOV EDX,0x1
006f8a2b CMPXCHG.LOCK dword ptr [RDI],EDX
006f8a2f JNZ 0x006f8ab0
006f8a31 MOV RDI,qword ptr [RBX + 0x88]
006f8a38 MOV qword ptr [RDI + 0x8],R13
006f8a3c ADD dword ptr [RDI + 0x4],0x1
006f8a40 MOV ECX,0x3
006f8a45 MOV EDX,R12D
006f8a48 MOV RSI,RBP
006f8a4b MOV RDI,RBX
006f8a4e CALL 0x006f4a90
006f8a53 CMP RAX,-0x1
006f8a57 SETZ AL
006f8a5a MOVZX EAX,AL
006f8a5d NEG EAX
006f8a5f TEST dword ptr [RBX],0x8000
006f8a65 JNZ 0x006f8a8a
006f8a67 MOV RDI,qword ptr [RBX + 0x88]
006f8a6e MOV ECX,dword ptr [RDI + 0x4]
006f8a71 LEA EDX,[RCX + -0x1]
006f8a74 MOV dword ptr [RDI + 0x4],EDX
006f8a77 TEST EDX,EDX
006f8a79 JNZ 0x006f8a8a
006f8a7b MOV qword ptr [RDI + 0x8],0x0
006f8a83 XCHG dword ptr [RDI],EDX
006f8a85 CMP EDX,0x1
006f8a88 JG 0x006f8a98
006f8a8a ADD RSP,0x18
006f8a8e POP RBX
006f8a8f POP RBP
006f8a90 POP R12
006f8a92 POP R13
006f8a94 RET
006f8a98 MOV dword ptr [RSP + 0xc],EAX
006f8a9c CALL 0x006ffc50
006f8aa1 MOV EAX,dword ptr [RSP + 0xc]
006f8aa5 JMP 0x006f8a8a
006f8ab0 CALL 0x006ffb80
006f8ab5 JMP 0x006f8a31
