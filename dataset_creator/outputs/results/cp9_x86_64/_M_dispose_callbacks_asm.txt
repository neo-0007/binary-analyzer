0066d130 ENDBR64
0066d134 PUSH R12
0066d136 MOV R12,RDI
0066d139 PUSH RBP
0066d13a PUSH RBX
0066d13b MOV RDI,qword ptr [RDI + 0x28]
0066d13f TEST RDI,RDI
0066d142 JZ 0x0066d181
0066d144 MOV RBP,0x931a30
0066d14b JMP 0x0066d16d
0066d150 MOV EAX,dword ptr [RDI + 0x14]
0066d153 LEA EDX,[RAX + -0x1]
0066d156 MOV dword ptr [RDI + 0x14],EDX
0066d159 TEST EAX,EAX
0066d15b JNZ 0x0066d181
0066d15d MOV RBX,qword ptr [RDI]
0066d160 CALL 0x006abae0
0066d165 TEST RBX,RBX
0066d168 JZ 0x0066d181
0066d16a MOV RDI,RBX
0066d16d CMP byte ptr [RBP],0x0
0066d171 JNZ 0x0066d150
0066d173 MOV EAX,0xffffffff
0066d178 XADD.LOCK dword ptr [RDI + 0x14],EAX
0066d17d TEST EAX,EAX
0066d17f JZ 0x0066d15d
0066d181 MOV qword ptr [R12 + 0x28],0x0
0066d18a POP RBX
0066d18b POP RBP
0066d18c POP R12
0066d18e RET
