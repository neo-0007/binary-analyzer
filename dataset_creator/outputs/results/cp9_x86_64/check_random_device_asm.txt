00479870 PUSH RBX
00479871 MOV RBX,RDI
00479874 SUB RSP,0xa0
0047987b MOV EDI,dword ptr [RDI]
0047987d MOV RAX,qword ptr FS:[0x28]
00479886 MOV qword ptr [RSP + 0x98],RAX
0047988e XOR EAX,EAX
00479890 CMP EDI,-0x1
00479893 JNZ 0x004798b8
00479895 XOR EAX,EAX
00479897 MOV RDX,qword ptr [RSP + 0x98]
0047989f SUB RDX,qword ptr FS:[0x28]
004798a8 JNZ 0x004798f9
004798aa ADD RSP,0xa0
004798b1 POP RBX
004798b2 RET
004798b8 MOV RSI,RSP
004798bb CALL 0x00763df0
004798c0 CMP EAX,-0x1
004798c3 JZ 0x00479895
004798c5 MOV RAX,qword ptr [RSP]
004798c9 CMP qword ptr [RBX + 0x8],RAX
004798cd JNZ 0x00479895
004798cf MOV RAX,qword ptr [RSP + 0x8]
004798d4 CMP qword ptr [RBX + 0x10],RAX
004798d8 JNZ 0x00479895
004798da MOV EAX,dword ptr [RBX + 0x18]
004798dd XOR EAX,dword ptr [RSP + 0x18]
004798e1 TEST EAX,0xfffffe00
004798e6 JNZ 0x00479895
004798e8 MOV RAX,qword ptr [RSP + 0x28]
004798ed CMP qword ptr [RBX + 0x20],RAX
004798f1 SETZ AL
004798f4 MOVZX EAX,AL
004798f7 JMP 0x00479897
004798f9 CALL 0x00768630
