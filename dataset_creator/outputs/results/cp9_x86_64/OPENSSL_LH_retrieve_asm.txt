00537fd0 ENDBR64
00537fd4 PUSH RBX
00537fd5 MOV RBX,RDI
00537fd8 SUB RSP,0x10
00537fdc MOV RAX,qword ptr FS:[0x28]
00537fe5 MOV qword ptr [RSP + 0x8],RAX
00537fea XOR EAX,EAX
00537fec MOV RDX,RSP
00537fef MOV dword ptr [RDI + 0xa8],0x0
00537ff9 CALL 0x00537940
00537ffe LEA RDX,[RBX + 0x98]
00538005 ADD RBX,0x90
0053800c CMP qword ptr [RAX],0x0
00538010 CMOVZ RBX,RDX
00538014 ADD.LOCK qword ptr [RBX],0x1
00538019 MOV RAX,qword ptr [RAX]
0053801c TEST RAX,RAX
0053801f JZ 0x00538024
00538021 MOV RAX,qword ptr [RAX]
00538024 MOV RDX,qword ptr [RSP + 0x8]
00538029 SUB RDX,qword ptr FS:[0x28]
00538032 JNZ 0x0053803a
00538034 ADD RSP,0x10
00538038 POP RBX
00538039 RET
0053803a CALL 0x00768630
