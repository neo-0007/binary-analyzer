006f5090 ENDBR64
006f5094 PUSH RBP
006f5095 PUSH RBX
006f5096 MOV RBX,RDI
006f5099 SUB RSP,0x18
006f509d MOV EAX,dword ptr [RDI]
006f509f AND EAX,0x8000
006f50a4 JNZ 0x006f50da
006f50a6 MOV RBP,qword ptr FS:[0x10]
006f50af MOV RDI,qword ptr [RDI + 0x88]
006f50b6 CMP qword ptr [RDI + 0x8],RBP
006f50ba JZ 0x006f50d6
006f50bc MOV EDX,0x1
006f50c1 CMPXCHG.LOCK dword ptr [RDI],EDX
006f50c5 JNZ 0x006f5150
006f50cb MOV RDI,qword ptr [RBX + 0x88]
006f50d2 MOV qword ptr [RDI + 0x8],RBP
006f50d6 ADD dword ptr [RDI + 0x4],0x1
006f50da MOV RAX,qword ptr [RBX + 0xa0]
006f50e1 TEST RAX,RAX
006f50e4 JZ 0x006f5130
006f50e6 MOV RDX,qword ptr [RAX]
006f50e9 CMP RDX,qword ptr [RAX + 0x8]
006f50ed JNC 0x006f5130
006f50ef LEA RCX,[RDX + 0x4]
006f50f3 MOV qword ptr [RAX],RCX
006f50f6 MOV EAX,dword ptr [RDX]
006f50f8 TEST dword ptr [RBX],0x8000
006f50fe JNZ 0x006f5123
006f5100 MOV RDI,qword ptr [RBX + 0x88]
006f5107 MOV ESI,dword ptr [RDI + 0x4]
006f510a LEA EDX,[RSI + -0x1]
006f510d MOV dword ptr [RDI + 0x4],EDX
006f5110 TEST EDX,EDX
006f5112 JNZ 0x006f5123
006f5114 MOV qword ptr [RDI + 0x8],0x0
006f511c XCHG dword ptr [RDI],EDX
006f511e CMP EDX,0x1
006f5121 JG 0x006f5140
006f5123 ADD RSP,0x18
006f5127 POP RBX
006f5128 POP RBP
006f5129 RET
006f5130 MOV RDI,RBX
006f5133 CALL 0x006f5df0
006f5138 JMP 0x006f50f8
006f5140 MOV dword ptr [RSP + 0xc],EAX
006f5144 CALL 0x006ffc50
006f5149 MOV EAX,dword ptr [RSP + 0xc]
006f514d JMP 0x006f5123
006f5150 CALL 0x006ffb80
006f5155 JMP 0x006f50cb
