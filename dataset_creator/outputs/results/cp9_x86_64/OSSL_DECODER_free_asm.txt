00508970 ENDBR64
00508974 TEST RDI,RDI
00508977 JZ 0x005089f0
00508979 PUSH R12
0050897b MOV EAX,0xffffffff
00508980 PUSH RBP
00508981 MOV RBP,RDI
00508984 SUB RSP,0x8
00508988 XADD.LOCK dword ptr [RDI + 0x28],EAX
0050898d SUB EAX,0x1
00508990 TEST EAX,EAX
00508992 JZ 0x005089a0
00508994 JLE 0x005089a0
00508996 ADD RSP,0x8
0050899a POP RBP
0050899b POP R12
0050899d RET
005089a0 MOV RDI,qword ptr [RBP + 0x10]
005089a4 LEA R12,[0x7f73d8]
005089ab MOV EDX,0x3d
005089b0 MOV RSI,R12
005089b3 CALL 0x00419770
005089b8 MOV RDI,qword ptr [RBP + 0x20]
005089bc CALL 0x0042d9d0
005089c1 MOV RDI,qword ptr [RBP]
005089c5 CALL 0x0041f750
005089ca MOV RDI,qword ptr [RBP + 0x30]
005089ce CALL 0x00420d10
005089d3 ADD RSP,0x8
005089d7 MOV RSI,R12
005089da MOV RDI,RBP
005089dd MOV EDX,0x41
005089e2 POP RBP
005089e3 POP R12
005089e5 JMP 0x00419770
005089f0 RET
