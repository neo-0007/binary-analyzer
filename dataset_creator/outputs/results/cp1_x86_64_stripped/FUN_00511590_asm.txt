00511590 ENDBR64
00511594 TEST RDI,RDI
00511597 JZ 0x00511610
00511599 PUSH R12
0051159b MOV EAX,0xffffffff
005115a0 PUSH RBP
005115a1 MOV RBP,RDI
005115a4 SUB RSP,0x8
005115a8 XADD.LOCK dword ptr [RDI + 0x64],EAX
005115ad SUB EAX,0x1
005115b0 TEST EAX,EAX
005115b2 JZ 0x005115c0
005115b4 JLE 0x005115c0
005115b6 ADD RSP,0x8
005115ba POP RBP
005115bb POP R12
005115bd RET
005115c0 LEA R12,[0x801c6d]
005115c7 MOV RDI,qword ptr [RBP + 0x8]
005115cb MOV EDX,0x46
005115d0 MOV RSI,R12
005115d3 CALL 0x0041ad60
005115d8 MOV RSI,qword ptr [RBP + 0x58]
005115dc MOV RDI,qword ptr [RBP + 0x50]
005115e0 MOV RDX,R12
005115e3 MOV ECX,0x47
005115e8 CALL 0x0041c0b0
005115ed MOV RDI,qword ptr [RBP + 0x68]
005115f1 CALL 0x00422300
005115f6 ADD RSP,0x8
005115fa MOV RSI,R12
005115fd MOV RDI,RBP
00511600 MOV EDX,0x49
00511605 POP RBP
00511606 POP R12
00511608 JMP 0x0041ad60
00511610 RET
